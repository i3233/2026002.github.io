<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>基础配置 - 收银台</title>
    <link rel="stylesheet" href="../../css/Main.css">
    <link rel="stylesheet" href="../../css/基础配置.css">
</head>
<body class="config-body">
    <div class="config-container">
        <!-- 页面标题 -->
        <div class="config-header">
            <h1 class="config-title">基础配置</h1>
        </div>

        <!-- 主要内容区 -->
        <div class="config-content">
            <!-- 左侧：App安装和绑定码 -->
            <div class="config-left-section">
                <!-- App安装 -->
                <div class="config-card">
                    <div class="config-card-header">
                        <h2 class="config-card-title">App安装</h2>
                    </div>
                    <div class="config-card-body">
                        <div class="app-install-section">
                            <div class="app-install-info">
                                <div class="app-icon">📱</div>
                                <div class="app-info-text">
                                    <p class="app-name">收银台App</p>
                                    <p class="app-version">版本：v1.0.0</p>
                                </div>
                            </div>
                            <div class="app-install-actions">
                                <button class="config-btn config-btn-primary" id="installAppBtn">安装App</button>
                                <button class="config-btn config-btn-outline" id="downloadAppBtn">下载安装包</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 绑定码生成 -->
                <div class="config-card">
                    <div class="config-card-header">
                        <h2 class="config-card-title">设备绑定</h2>
                    </div>
                    <div class="config-card-body">
                        <div class="bind-code-section">
                            <div class="bind-code-display">
                                <div class="bind-code-label">绑定码</div>
                                <div class="bind-code-value" id="bindCodeValue">点击生成按钮获取</div>
                            </div>
                            <div class="bind-code-actions">
                                <button class="config-btn config-btn-primary" id="generateBindCodeBtn">生成绑定码</button>
                                <button class="config-btn config-btn-outline" id="copyBindCodeBtn" style="display: none;">复制绑定码</button>
                            </div>
                            <div class="bind-code-tip">
                                <p>绑定码用于将收银设备与系统进行绑定，请妥善保管</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 右侧：配置项 -->
            <div class="config-right-section">
                <!-- 支付设置 -->
                <div class="config-card">
                    <div class="config-card-header">
                        <h2 class="config-card-title">支付设置</h2>
                    </div>
                    <div class="config-card-body">
                        <div class="payment-settings">
                            <div class="payment-item">
                                <div class="payment-item-header">
                                    <label class="payment-label">微信支付</label>
                                    <label class="config-switch">
                                        <input type="checkbox" id="wechatPaySwitch" checked>
                                        <span class="config-switch-slider"></span>
                                    </label>
                                </div>
                                <div class="payment-item-content" id="wechatPayContent">
                                    <div class="config-form-group">
                                        <label>商户号</label>
                                        <input type="text" class="config-input" placeholder="请输入微信商户号">
                                    </div>
                                    <div class="config-form-group">
                                        <label>API密钥</label>
                                        <input type="password" class="config-input" placeholder="请输入API密钥">
                                    </div>
                                </div>
                            </div>

                            <div class="payment-item">
                                <div class="payment-item-header">
                                    <label class="payment-label">支付宝</label>
                                    <label class="config-switch">
                                        <input type="checkbox" id="alipaySwitch" checked>
                                        <span class="config-switch-slider"></span>
                                    </label>
                                </div>
                                <div class="payment-item-content" id="alipayContent">
                                    <div class="config-form-group">
                                        <label>商户号</label>
                                        <input type="text" class="config-input" placeholder="请输入支付宝商户号">
                                    </div>
                                    <div class="config-form-group">
                                        <label>应用ID</label>
                                        <input type="text" class="config-input" placeholder="请输入应用ID">
                                    </div>
                                </div>
                            </div>

                            <div class="payment-item">
                                <div class="payment-item-header">
                                    <label class="payment-label">现金支付</label>
                                    <label class="config-switch">
                                        <input type="checkbox" id="cashPaySwitch" checked>
                                        <span class="config-switch-slider"></span>
                                    </label>
                                </div>
                            </div>

                            <div class="config-actions">
                                <button class="config-btn config-btn-primary" id="savePaymentBtn">保存支付设置</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 打印机设置 -->
                <div class="config-card">
                    <div class="config-card-header">
                        <h2 class="config-card-title">打印机设置</h2>
                    </div>
                    <div class="config-card-body">
                        <div class="printer-settings">
                            <div class="printer-list" id="printerList">
                                <!-- 打印机列表将动态生成 -->
                            </div>
                            <div class="printer-actions">
                                <button class="config-btn config-btn-outline" id="addPrinterBtn">添加打印机</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 电子秤设置 -->
                <div class="config-card">
                    <div class="config-card-header">
                        <h2 class="config-card-title">电子秤设置</h2>
                    </div>
                    <div class="config-card-body">
                        <div class="scale-settings">
                            <div class="config-form-group">
                                <label>电子秤型号</label>
                                <select class="config-input" id="scaleModel">
                                    <option value="">请选择电子秤型号</option>
                                    <option value="model1">型号A</option>
                                    <option value="model2">型号B</option>
                                    <option value="model3">型号C</option>
                                </select>
                            </div>
                            <div class="config-form-group">
                                <label>串口设置</label>
                                <input type="text" class="config-input" placeholder="请输入串口号（如：COM1）" id="scalePort">
                            </div>
                            <div class="config-form-group">
                                <label>波特率</label>
                                <select class="config-input" id="scaleBaudRate">
                                    <option value="9600">9600</option>
                                    <option value="19200">19200</option>
                                    <option value="38400">38400</option>
                                    <option value="57600">57600</option>
                                    <option value="115200">115200</option>
                                </select>
                            </div>
                            <div class="config-form-group">
                                <label class="config-checkbox-label">
                                    <input type="checkbox" id="scaleAutoConnect">
                                    <span>自动连接</span>
                                </label>
                            </div>
                            <div class="config-actions">
                                <button class="config-btn config-btn-outline" id="testScaleBtn">测试连接</button>
                                <button class="config-btn config-btn-primary" id="saveScaleBtn">保存设置</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 添加打印机弹窗 -->
    <div id="printerModal" class="config-modal" style="display: none;">
        <div class="config-modal-content">
            <div class="config-modal-header">
                <h3>添加打印机</h3>
                <button class="config-modal-close" onclick="closePrinterModal()">×</button>
            </div>
            <div class="config-modal-body">
                <div class="config-form-group">
                    <label>打印机名称</label>
                    <input type="text" class="config-input" id="printerName" placeholder="请输入打印机名称">
                </div>
                <div class="config-form-group">
                    <label>打印机类型</label>
                    <select class="config-input" id="printerType">
                        <option value="receipt">小票打印机</option>
                        <option value="kitchen">后厨打印机</option>
                        <option value="label">标签打印机</option>
                    </select>
                </div>
                <div class="config-form-group">
                    <label>连接方式</label>
                    <select class="config-input" id="printerConnection">
                        <option value="usb">USB</option>
                        <option value="network">网络</option>
                        <option value="bluetooth">蓝牙</option>
                    </select>
                </div>
                <div class="config-form-group" id="printerNetworkGroup" style="display: none;">
                    <label>IP地址</label>
                    <input type="text" class="config-input" id="printerIP" placeholder="请输入IP地址">
                </div>
                <div class="config-form-group">
                    <label>打印分类</label>
                    <div class="printer-categories">
                        <label class="config-checkbox-label">
                            <input type="checkbox" value="order" checked>
                            <span>订单小票</span>
                        </label>
                        <label class="config-checkbox-label">
                            <input type="checkbox" value="kitchen">
                            <span>后厨单</span>
                        </label>
                        <label class="config-checkbox-label">
                            <input type="checkbox" value="label">
                            <span>标签</span>
                        </label>
                    </div>
                </div>
            </div>
            <div class="config-modal-footer">
                <button class="config-btn config-btn-secondary" onclick="closePrinterModal()">取消</button>
                <button class="config-btn config-btn-primary" onclick="savePrinter()">保存</button>
            </div>
        </div>
    </div>

    <script src="../../js/基础配置.js"></script>
</body>
</html>
